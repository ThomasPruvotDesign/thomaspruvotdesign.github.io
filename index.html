<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio PDF</title>
  <style>
    /* On s'assure que html et body occupent toute la hauteur */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }
    /* Fond d'écran : Boisbrule.png occupe toute la fenêtre */
    body {
      background: url('Boisbrule.png') no-repeat center center fixed;
      background-size: cover;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: auto; /* Si besoin, pour permettre le défilement */
    }
    /* Conteneur du PDF :
       - Sur ordinateur : 80% de la largeur, 100% de la hauteur
       - Sur mobiles/tablettes : 95% de la largeur et 90% de la hauteur */
    #pdf-container {
      width: 80vw;
      height: 100vh;
      overflow: auto;
      background: rgba(255,255,255,0.8); /* Fond léger pour contraster avec le fond */
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    @media (max-width: 768px) {
      #pdf-container {
        width: 95vw;
        height: 90vh;
      }
    }
    /* Le canvas occupe 100% de la largeur calculée par PDF.js */
    canvas {
      display: block;
      margin: 0 auto;
    }
  </style>
  <!-- Inclusion de PDF.js depuis le CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
</head>
<body>
  <div id="pdf-container">
    <canvas id="pdf-canvas"></canvas>
  </div>
  <script>
    const url = 'Portfolio.pdf';  // Chemin vers votre PDF (format A3 paysage)
    const container = document.getElementById('pdf-container');
    const canvas = document.getElementById('pdf-canvas');
    const context = canvas.getContext('2d');
    let pdfDoc = null;
    let pageNumber = 1; // Nous affichons ici la première page (adapter si plusieurs pages sont souhaitées)

    // Fonction qui calcule l'échelle pour que la page s'adapte entièrement au conteneur
    function renderPage() {
      pdfDoc.getPage(pageNumber).then(function(page) {
        // On récupère la taille native de la page (scale = 1)
        const initialViewport = page.getViewport({ scale: 1 });
        // Dimensions du conteneur
        const containerWidth = container.clientWidth;
        const containerHeight = container.clientHeight;
        // Calcul de l'échelle pour que la page rentre entièrement dans le conteneur
        const scale = Math.min(containerWidth / initialViewport.width, containerHeight / initialViewport.height);
        const viewport = page.getViewport({ scale: scale });
        // Ajustement du canvas aux dimensions calculées
        canvas.width = viewport.width;
        canvas.height = viewport.height;
        // Rendu de la page dans le canvas
        page.render({
          canvasContext: context,
          viewport: viewport
        });
      });
    }

    // Chargement du PDF
    pdfjsLib.getDocument(url).promise.then(function(pdf) {
      pdfDoc = pdf;
      renderPage();
    }).catch(function(error) {
      console.error('Erreur lors du chargement du PDF :', error);
    });

    // Recalculer le rendu lors du redimensionnement de la fenêtre
    window.addEventListener('resize', function() {
      if (pdfDoc) {
        renderPage();
      }
    });
  </script>
</body>
</html>